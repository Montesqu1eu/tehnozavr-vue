(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da6e43e8"],{2923:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.productLoading?e("loader",{attrs:{object:"#000000",color1:"#ffffff",color2:"#17fd3d",size:"5",speed:"2",bg:"#343a40",objectbg:"#999793",opacity:"80",name:"circular"}}):t.productData?e("main",{staticClass:"content container"},[e("div",{staticClass:"content__top"},[e("ul",{staticClass:"breadcrumbs"},[e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" "+t._s(t.category.title)+" ")])],1),e("li",{staticClass:"breadcrumbs__item"},[e("a",{staticClass:"breadcrumbs__link"},[t._v(" "+t._s(t.product.title)+" ")])])])]),e("section",{staticClass:"item"},[e("div",{staticClass:"item__pics pics"},[e("div",{staticClass:"pics__wrapper"},[e("img",{attrs:{width:"570",height:"570",src:t.product.image,srcset:t.product.image+" 2x",alt:"Название товара"}})])]),e("div",{staticClass:"item__info"},[e("span",{staticClass:"item__code"},[t._v("Артикул: "+t._s(t.product.id))]),e("h2",{staticClass:"item__title"},[t._v(" "+t._s(t.product.title)+" ")]),e("div",{staticClass:"item__form"},[e("form",{staticClass:"form",attrs:{action:"#",method:"POST"},on:{submit:function(a){return a.preventDefault(),t.addToCart.apply(null,arguments)}}},[e("b",{staticClass:"item__price"},[t._v(" "+t._s(t._f("numberFormat")(t.product.price))+" Р ")]),e("fieldset",{staticClass:"form__block"},[e("legend",{staticClass:"form__legend"},[t._v(" Цвет: ")]),e("ul",{staticClass:"colors"},t._l(t.productData.colors,(function(t,a){return e("li",{key:a,staticClass:"colors__item"},[e("label",{staticClass:"colors__label"},[e("input",{staticClass:"colors__radio sr-only",attrs:{type:"radio",name:"color-item",value:"blue",checked:""}}),e("span",{staticClass:"colors__value",style:{"background-color":t.code}})])])})),0)]),e("div",{staticClass:"item__row"},[e("Counter",{on:{update:t.updateAmount}}),e("button",{staticClass:"button button--primery",attrs:{type:"submit",disabled:t.productAddSending}},[t._v(" В корзину ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.productAdded,expression:"productAdded"}]},[t._v("Товар добавлен в корзину")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.productAddSending,expression:"productAddSending"}]},[t._v("Добавляем товар в корзину...")])],1)])])]),e("div",{staticClass:"item__desc"},[e("ul",{staticClass:"tabs"},[e("li",{staticClass:"tabs__item"},[e("a",{staticClass:"tabs__link tabs__link--current"},[t._v(" Описание ")])]),e("li",{staticClass:"tabs__item"},[e("a",{staticClass:"tabs__link",attrs:{href:"#"}},[t._v(" Характеристики ")])]),e("li",{staticClass:"tabs__item"},[e("a",{staticClass:"tabs__link",attrs:{href:"#"}},[t._v(" Гарантия ")])]),e("li",{staticClass:"tabs__item"},[e("a",{staticClass:"tabs__link",attrs:{href:"#"}},[t._v(" Оплата и доставка ")])])]),e("div",{staticClass:"item__content"},[e("p",[t._v(" Данные отсутствуют ")])])])])]):e("main",{staticClass:"content container"},[t._v("Загрузка не удалась")])},s=[],i=e("5530"),n=(e("7db0"),e("d3b7"),e("54c6")),o=e("7355"),c=e("bc3a"),u=e.n(c),d=e("db49"),l=e("2f62"),p={name:"ProductPage",components:{Counter:o["a"]},filters:{numberFormat:n["a"]},data:function(){return{productAmount:1,productData:null,productLoading:!1,productLoadingFailed:!1,productAdded:!1,productAddSending:!1}},computed:{product:function(){return this.productData.image=this.productData.image.file.url,this.productData},category:function(){return this.productData.category}},methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])(["addProductToCart","updateCartProductAmount"])),{},{addToCart:function(){var t=this;this.productAdded=!1,this.productAddSending=!0;var a=this.$store.state.cartProductsData.find((function(a){return a.product.id===t.product.id}));a?this.updateCartProductAmount({productId:this.product.id,amount:this.productAmount}).then((function(){t.productAdded=!0,t.productAddSending=!1})):this.addProductToCart({productId:this.product.id,amount:this.productAmount}).then((function(){t.productAdded=!0,t.productAddSending=!1}))},updateAmount:function(t){this.productAmount=t},loadProduct:function(){var t=this;this.productLoading=!0,this.productLoadingFailed=!1,u.a.get(d["a"]+"/products/"+this.$route.params.id).then((function(a){return t.productData=a.data})).catch((function(a){404===a.response.status?t.$router.push({name:"notfound"}):t.productLoadingFailed=!0})).finally((function(){return t.productLoading=!1}))}}),watch:{"$route.params.id":{handler:function(){this.loadProduct()},immediate:!0}}},m=p,f=e("2877"),_=Object(f["a"])(m,r,s,!1,null,"32b4d914",null);a["default"]=_.exports},"408a":function(t,a){var e=1..valueOf;t.exports=function(t){return e.call(t)}},"54c6":function(t,a,e){"use strict";function r(t){return(new Intl.NumberFormat).format(t)}e.d(a,"a",(function(){return r}))},5899:function(t,a){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,a,e){var r=e("1d80"),s=e("577e"),i=e("5899"),n="["+i+"]",o=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),u=function(t){return function(a){var e=s(r(a));return 1&t&&(e=e.replace(o,"")),2&t&&(e=e.replace(c,"")),e}};t.exports={start:u(1),end:u(2),trim:u(3)}},7156:function(t,a,e){var r=e("1626"),s=e("861d"),i=e("d2bb");t.exports=function(t,a,e){var n,o;return i&&r(n=a.constructor)&&n!==e&&s(o=n.prototype)&&o!==e.prototype&&i(t,o),t}},7355:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form__counter"},[e("button",{attrs:{type:"button","aria-label":"Убрать один товар"},on:{click:t.countMinus}},[e("svg",{attrs:{width:"12",height:"12",fill:"currentColor"}},[e("use",{attrs:{"xlink:href":"#icon-minus"}})])]),e("input",{attrs:{type:"text"},domProps:{value:t.counter},on:{input:t.onInput}}),e("button",{attrs:{type:"button","aria-label":"Добавить один товар"},on:{click:t.countPlus}},[e("svg",{attrs:{width:"12",height:"12",fill:"currentColor"}},[e("use",{attrs:{"xlink:href":"#icon-plus"}})])])])},s=[],i=(e("a9e3"),{name:"Counter",props:{min:{type:Number,default:1},max:{type:Number,default:99},defaultNum:{type:Number,default:1}},data:function(){return{counter:this.defaultNum}},methods:{countPlus:function(){this.counter<this.max&&this.counter++,this.$emit("update",this.counter)},countMinus:function(){this.counter>this.min&&this.counter--,this.$emit("update",this.counter)},onInput:function(t){this.$emit("update",t.target.value)}}}),n=i,o=e("2877"),c=Object(o["a"])(n,r,s,!1,null,"9a885c5e",null);a["a"]=c.exports},a9e3:function(t,a,e){"use strict";var r=e("83ab"),s=e("da84"),i=e("94ca"),n=e("6eeb"),o=e("1a2d"),c=e("7156"),u=e("d9b5"),d=e("c04e"),l=e("d039"),p=e("241c").f,m=e("06cf").f,f=e("9bf2").f,_=e("408a"),b=e("58a8").trim,h="Number",v=s[h],C=v.prototype,g=function(t){var a=d(t,"number");return"bigint"===typeof a?a:A(a)},A=function(t){var a,e,r,s,i,n,o,c,l=d(t,"number");if(u(l))throw TypeError("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=b(l),a=l.charCodeAt(0),43===a||45===a){if(e=l.charCodeAt(2),88===e||120===e)return NaN}else if(48===a){switch(l.charCodeAt(1)){case 66:case 98:r=2,s=49;break;case 79:case 111:r=8,s=55;break;default:return+l}for(i=l.slice(2),n=i.length,o=0;o<n;o++)if(c=i.charCodeAt(o),c<48||c>s)return NaN;return parseInt(i,r)}return+l};if(i(h,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var N,y=function(t){var a=arguments.length<1?0:v(g(t)),e=this;return e instanceof y&&l((function(){_(e)}))?c(Object(a),e,y):a},k=r?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),I=0;k.length>I;I++)o(v,N=k[I])&&!o(y,N)&&f(y,N,m(v,N));y.prototype=C,C.constructor=y,n(s,h,y)}}}]);
//# sourceMappingURL=chunk-da6e43e8.25cc3348.js.map