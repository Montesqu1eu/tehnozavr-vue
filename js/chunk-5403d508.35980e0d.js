(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5403d508"],{"164b":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"content container"},[e("div",{staticClass:"content__top"},[e("ul",{staticClass:"breadcrumbs"},[e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"cart"}}},[t._v(" Корзина ")])],1),t._m(0)]),e("h1",{staticClass:"content__title"},[t._v(" Корзина ")]),e("span",{staticClass:"content__info"},[t._v(" 3 товара ")])]),e("section",{staticClass:"cart"},[e("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"},on:{submit:function(a){return a.preventDefault(),t.order.apply(null,arguments)}}},[e("div",{staticClass:"cart__field"},[e("div",{staticClass:"cart__data"},[e("BaseFormInput",{attrs:{placeholder:"Введите ваше полное имя",title:"ФИО",error:t.formError.name},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}}),e("BaseFormInput",{attrs:{placeholder:"Введите ваш адрес",title:"Адрес доставки",error:t.formError.address},model:{value:t.formData.address,callback:function(a){t.$set(t.formData,"address",a)},expression:"formData.address"}}),e("BaseFormInput",{attrs:{placeholder:"Введите ваш телефон",title:"Телефон",error:t.formError.phone},model:{value:t.formData.phone,callback:function(a){t.$set(t.formData,"phone",a)},expression:"formData.phone"}}),e("BaseFormInput",{attrs:{placeholder:"Введи ваш Email",title:"Email",error:t.formError.email},model:{value:t.formData.email,callback:function(a){t.$set(t.formData,"email",a)},expression:"formData.email"}}),e("BaseFormTextarea",{attrs:{placeholder:"Ваши пожелания",title:"Комментарий к заказу",error:t.formError.comment},model:{value:t.formData.comment,callback:function(a){t.$set(t.formData,"comment",a)},expression:"formData.comment"}})],1)]),e("div",{staticClass:"cart__block"},[e("ul",{staticClass:"cart__orders"},t._l(t.products,(function(a,r){return e("li",{key:r,staticClass:"cart__order"},[e("h3",[t._v(t._s(a.product.title)+" "),e("div",[t._v("x "+t._s(a.amount))])]),e("b",[t._v(t._s(t._f("numberFormat")(a.product.price*a.amount))+" ₽")]),e("span",[t._v("Артикул: "+t._s(a.product.id))])])})),0),e("div",{staticClass:"cart__total"},[e("p",[t._v("Итого: "),e("b",[t._v(t._s(t.products.length))]),t._v(" товара на сумму "),e("b",[t._v(t._s(t._f("numberFormat")(t.totalPrice))+" ₽")])])]),e("button",{staticClass:"cart__button button button--primery",attrs:{type:"submit"}},[t._v(" Оформить заказ ")])]),t.formErrorMessage?e("div",{staticClass:"cart__error form__error-block"},[e("h4",[t._v("Заявка не отправлена!")]),e("p",[t._v(" "+t._s(t.formErrorMessage)+" ")])]):t._e()])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",{staticClass:"breadcrumbs__item"},[e("a",{staticClass:"breadcrumbs__link"},[t._v(" Оформление заказа ")])])}],o=e("5530"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"form__label"},[t._t("default"),e("span",{staticClass:"form__value"},[t._v(t._s(t.title))]),t.error?e("span",{staticClass:"form__error"},[t._v(t._s(t.error))]):t._e()],2)},n=[],c={name:"BaseFormField.vue",props:{title:{type:String,default:""},error:{type:String,default:""}}},i=c,u=e("2877"),m=Object(u["a"])(i,l,n,!1,null,"18accf57",null),d=m.exports,p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("BaseFormField",{attrs:{title:t.title,error:t.error}},["checkbox"===t.type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.dataValue)?t._i(t.dataValue,null)>-1:t.dataValue},on:{change:function(a){var e=t.dataValue,r=a.target,s=!!r.checked;if(Array.isArray(e)){var o=null,l=t._i(e,o);r.checked?l<0&&(t.dataValue=e.concat([o])):l>-1&&(t.dataValue=e.slice(0,l).concat(e.slice(l+1)))}else t.dataValue=s}}}):"radio"===t.type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.dataValue,null)},on:{change:function(a){t.dataValue=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{placeholder:t.placeholder,type:t.type},domProps:{value:t.dataValue},on:{input:function(a){a.target.composing||(t.dataValue=a.target.value)}}})])},_=[],f={components:{BaseFormField:d},props:{title:null,error:null,placeholder:null,value:""},computed:{dataValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},v={name:"BaseFormInput",props:{type:{type:String,default:"text"}},mixins:[f]},b=v,h=Object(u["a"])(b,p,_,!1,null,"7d16d03c",null),C=h.exports,x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("BaseFormField",{attrs:{title:t.title,error:t.error}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input form__input--area",attrs:{placeholder:t.placeholder},domProps:{value:t.dataValue},on:{input:function(a){a.target.composing||(t.dataValue=a.target.value)}}})])},F=[],k={name:"BaseFormTextarea",mixins:[f]},V=k,g=Object(u["a"])(V,x,F,!1,null,"570ad2e6",null),y=g.exports,E=e("bc3a"),D=e.n(E),$=e("db49"),B=e("2f62"),w=e("54c6"),O={name:"OrderPage",components:{BaseFormField:d,BaseFormInput:C,BaseFormTextarea:y},filters:{numberFormat:w["a"]},data:function(){return{formData:{},formError:{},formErrorMessage:""}},methods:{order:function(){var t=this;this.formError={},this.formErrorMessage="",D.a.post($["a"]+"/orders",Object(o["a"])({},this.formData),{params:{userAccessKey:this.$store.state.userAccessKey}}).then((function(a){t.$store.commit("resetCart"),t.$store.commit("updateOrderInfo",a.data),t.$router.push({name:"orderInfo",params:{id:a.data.id}})})).catch((function(a){t.formError=a.response.data.error.request||{},t.formErrorMessage=a.response.data.error.message}))}},computed:Object(o["a"])({},Object(B["c"])({products:"cartDetailProducts",totalPrice:"cartTotalPrice"}))},P=O,I=Object(u["a"])(P,r,s,!1,null,"41bc9bb1",null);a["default"]=I.exports},"54c6":function(t,a,e){"use strict";function r(t){return(new Intl.NumberFormat).format(t)}e.d(a,"a",(function(){return r}))}}]);
//# sourceMappingURL=chunk-5403d508.35980e0d.js.map